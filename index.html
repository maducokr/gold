<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ê³¨ë“  ì½”ì¸ íˆ¬í•˜ ê²Œì„</title>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      background: url('gold.png') no-repeat center center fixed;
      background-size: cover;
      margin: 0;
      padding: 10px;
      min-height: 100vh;
      position: relative;
      overflow: hidden;
      max-width: 400px;
      margin: 0 auto;
    }
    
    #coinCount {
      position: fixed;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      background-color: rgba(255, 215, 0, 0.9);
      color: #333;
      padding: 10px 20px;
      border-radius: 20px;
      font-size: 18px;
      font-weight: bold;
      z-index: 100;
      backdrop-filter: blur(5px);
      border: 2px solid #FFD700;
    }
    

    
    #scoreBoard {
      position: fixed;
      font-size: 18px;
      top: 50px;
      margin-top: 5px;
      background-color: rgba(255, 255, 255, 0.9);
      padding: 5px;
      border-radius: 10px;
      display: inline-block;
      backdrop-filter: blur(5px);
    }
    
    h1, p {
      background-color: rgba(255, 255, 255, 0.9);
      padding: 8px;
      border-radius: 10px;
      backdrop-filter: blur(5px);
      display: inline-block;
      font-size: 14px;
      margin: 5px;
    }
    
    h1 {
      font-size: 16px;
      margin-top: 60px;
    }
    
    #movingDish {
      position: absolute;
      width: 100px;
      height: 100px;
      z-index: 5;
      transition: all 0.5s ease-in-out;
      cursor: pointer;
    }
    
    #coinButton {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: linear-gradient(45deg, #FFD700, #FFA500);
      color: #333;
      border: none;
      padding: 15px 30px;
      border-radius: 25px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      z-index: 100;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      transition: all 0.3s ease;
    }
    
    #coinButton:hover {
      transform: translateX(-50%) scale(1.05);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
    }
    
    #coinButton:active {
      transform: translateX(-50%) scale(0.95);
    }
    
    .coin {
      position: absolute;
      font-size: 60px;
      z-index: 15;
      animation: fallDown 3s linear forwards, sparkle 1s infinite;
      pointer-events: none;
      top: -50px;
    }
    @keyframes fallDown {
      0% {
        top: -50px;
        opacity: 1;
      }
      100% {
        top: 100vh;
        opacity: 0;
      }
    }
    @keyframes sparkle {
      0%   { filter: brightness(1.5) drop-shadow(0 0 10px #fff6b0); transform: scale(1);}
      20%  { filter: brightness(2.5) drop-shadow(0 0 20px #fff6b0); transform: scale(1.15);}
      40%  { filter: brightness(1.2) drop-shadow(0 0 5px #fff6b0); transform: scale(1);}
      60%  { filter: brightness(2.2) drop-shadow(0 0 15px #fff6b0); transform: scale(1.12);}
      80%  { filter: brightness(1.2) drop-shadow(0 0 5px #fff6b0); transform: scale(1);}
      100% { filter: brightness(1.5) drop-shadow(0 0 10px #fff6b0); transform: scale(1);}
    }
  </style>
</head>
<body>
  
  <div id="coinCount">ğŸª™ Gold Coin: 0ê°œ  Money: 0$</div>
  <img id="movingDish" src="dish.png" alt="dish" style="display:block;" />
  <button id="coinButton">ğŸª™ Drop Coins</button>

  <script>
    const scoreBoard = document.getElementById("scoreBoard");
    const movingDish = document.getElementById("movingDish");
    const coinButton = document.getElementById("coinButton");
    const coinCount = document.getElementById("coinCount");
    let score = 0;
    let gameOver = false;
    let totalCoins = 0;

    // í™”ì‚´í‘œ ëœë¤ ì´ë™ í•¨ìˆ˜
    function moveDish() {
      if (gameOver) return;
      const dishWidth = 100;
      const dishHeight = 100;
      const maxX = Math.min(window.innerWidth, 400) - dishWidth;
      const maxY = window.innerHeight - 100;
      const newX = Math.random() * maxX;
      const newY = Math.random() * maxY;
      movingDish.style.left = newX + 'px';
      movingDish.style.top = newY + 'px';
    }

    let dishInterval = null;
    function startDishMove() {
      if (dishInterval) clearInterval(dishInterval);
      moveDish();
      dishInterval = setInterval(moveDish, 3000);
    }
    function stopDishMove() {
      if (dishInterval) clearInterval(dishInterval);
      dishInterval = null;
    }

    // ê¸ˆê´´ ë–¨ì–´ëœ¨ë¦¬ê¸° í•¨ìˆ˜
    function dropCoins() {
      // ë²„íŠ¼ í´ë¦­ ì‹œ ì ìˆ˜ ì´ˆê¸°í™”
      score = 0;
      const coinAmount = Math.floor(Math.random() * 101); // 0-50ê°œ
      totalCoins = coinAmount;
      updateCoinCount();
      // ë¹„í–‰ì ‘ì‹œ ë©ˆì¶¤
      stopDishMove();
      let finished = 0;
      if (coinAmount === 0) {
        // ì•„ë¬´ ê¸ˆê´´ë„ ì—†ìœ¼ë©´ ë°”ë¡œ ì¬ì‹œì‘
        startDishMove();
        return;
      }
     
      
      for (let i = 0; i < coinAmount; i++) {
      
        setTimeout(() => {
          const coin = document.createElement("div");
          coin.classList.add("coin");
          coin.innerHTML = `<svg width="60" height="40" viewBox="0 0 60 40">
            <ellipse cx="30" cy="20" rx="28" ry="16" fill="#FFD700" stroke="#B8860B" stroke-width="6"/>
            <ellipse cx="30" cy="20" rx="20" ry="10" fill="#FFC300" opacity="0.8"/>
          </svg>`;
          // ëœë¤í•œ ì‹œì‘ ìœ„ì¹˜ (í™”ë©´ ìƒë‹¨)
          const startX = Math.random() * Math.min(window.innerWidth, 400);
          coin.style.left = startX + 'px';
          coin.style.top = '-50px';
          document.body.appendChild(coin);
          score = i * 1000;
          updateCoinCount();
          // ì• ë‹ˆë©”ì´ì…˜ ì™„ë£Œ í›„ ì œê±°
          setTimeout(() => {
            if (coin.parentNode) {
              coin.parentNode.removeChild(coin);
            }
            finished++;
            if (finished === coinAmount) {
              // ëª¨ë“  ê¸ˆê´´ê°€ ë–¨ì–´ì§„ í›„ ì ìˆ˜ ì´ˆê¸°í™” ë° ë¹„í–‰ì ‘ì‹œ ì¬ì‹œì‘
             
              startDishMove();
            }
          }, 3000);
        }, i * 100); // ê° ê¸ˆê´´ë§ˆë‹¤ 0.1ì´ˆì”© ì§€ì—°

        
      }
    
    }

    // ê¸ˆê´´ ê°œìˆ˜ ì—…ë°ì´íŠ¸
    function updateCoinCount() {
      coinCount.textContent = `ğŸª™ Gold Coin: ${totalCoins}ê°œ  Total $: ${score+1000}$`;
       
      }

    // ì´ˆê¸° í™”ì‚´í‘œ ìœ„ì¹˜ ì„¤ì •
    startDishMove();

    // ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
    coinButton.addEventListener("click", dropCoins);
    
    // dish í´ë¦­ ì´ë²¤íŠ¸
    movingDish.addEventListener("click", function() {
      window.open("");
    });


  </script>
</body>
</html>